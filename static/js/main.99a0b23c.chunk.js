(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(0),s=n(9),a=n.n(s),r=(n(28),n(6)),o=(n(29),n(12)),l=n(3);var u=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e;return s&&(e=new IntersectionObserver((function(t){Object(r.a)(t,1)[0].isIntersecting&&(c(!0),e.unobserve(s.current))}),{threshold:0})).observe(s.current),function(){return e&&e.disconnect(s)}}),[s]),{isloaded:n,itemRef:s}},b=n(13);function j(){var e=Object(o.a)(["\n  background-color: var(--search-form-border-color);\n  width: 100%;\n  height: 20px;\n  margin-top: 12px;\n  margin-bottom: 4px;\n  & + & {\n    width: 80%;\n  }\n"]);return j=function(){return e},e}function d(){var e=Object(o.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 56.25%;\n  & > div {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ",";\n    background-size: contain;\n    transition: ease 0.2s;\n  }\n"]);return d=function(){return e},e}function h(){var e=Object(o.a)(["\n  width: 100%;\n"]);return h=function(){return e},e}var m,p,f,O,x,v,g,k,y,N,w=b.a.div(h()),I=b.a.div(d(),(function(e){return e.bg?"url(".concat(e.bg,")"):"var(--search-form-border-color)"})),P=b.a.div(j()),T=Object(l.c)((function(e){var t,n=e.item,s=e.onItemClick,a=u(),r=a.isloaded,o=a.itemRef,l=Object(i.useCallback)((function(e){var t=(new Date).getTime()-new Date(e).getTime();return(t=parseInt(t/36e5))<24?t+"\uc2dc\uac04":t>=24&&t<168?parseInt(t/24)+"\uc77c":t>=168&&t<672?parseInt(t/168)+"\uc8fc":t>=672&&t<8760?parseInt(t/672)+"\uac1c\uc6d4":t>=8760?parseInt(t/8760)+"\ub144":void 0}),[]);return Object(c.jsx)("li",{className:"item",ref:o,children:r?Object(c.jsxs)("div",{className:"item-box",onClick:function(){s(n),window.scrollTo({top:0})},children:[Object(c.jsx)(w,{children:Object(c.jsx)(I,{bg:n.snippet.thumbnails.medium.url,children:Object(c.jsx)("div",{})})}),Object(c.jsxs)("div",{className:"meta",children:[Object(c.jsx)("h4",{className:"title",children:n.snippet.title}),Object(c.jsx)("div",{className:"channel-title",children:n.snippet.channelTitle}),Object(c.jsxs)("div",{className:"meta-data item-meta-data",children:[Object(c.jsxs)("span",{children:["\uc870\ud68c\uc218 ",(t=n.statistics.viewCount,t>=1e4?parseInt(t/1e4)+"\ub9cc":t),"\ud68c"]}),Object(c.jsxs)("span",{children:[l(n.snippet.publishedAt)," \uc804"]})]})]})]}):Object(c.jsxs)("div",{className:"item-box",children:[Object(c.jsx)(w,{children:Object(c.jsx)(I,{children:Object(c.jsx)("div",{})})}),Object(c.jsxs)("div",{className:"meta",children:[Object(c.jsx)(P,{}),Object(c.jsx)(P,{})]})]})})})),C=Object(l.c)((function(e){var t=e.items,n=e.onItemClick;return Object(c.jsx)("ul",{className:"item-list",children:t.map((function(e){return Object(c.jsx)(T,{item:e,onItemClick:n},e.id+t.indexOf(e))}))})})),R=Object(l.c)((function(e){var t=e.onSubmit,n=e.inputRef,i=e.onSearchBar;return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsxs)("a",{href:"https://seheeyun.github.io/youtube-clone/",className:"logo",children:[Object(c.jsx)("svg",{viewBox:"0 0 50 50",preserveAspectRatio:"xMidYMid meet",children:Object(c.jsx)("g",{transform:"translate(0,50) scale(0.1,-0.1)",fill:"#ff0000",children:Object(c.jsx)("path",{d:"M60 411 c-40 -11 -54 -54 -54 -161 0 -115 13 -150 63 -163 19 -5 113\n-7 208 -5 141 2 175 6 188 19 26 26 40 138 27 216 -6 36 -18 74 -27 82 -13 13\n-47 16 -198 18 -100 1 -193 -2 -207 -6z m208 -111 c39 -23 72 -46 72 -50 0 -6\n-81 -58 -152 -97 -5 -2 -8 41 -8 97 0 56 3 99 8 97 4 -2 40 -23 80 -47z"})})}),Object(c.jsx)("span",{children:"YunTube"})]}),Object(c.jsx)("div",{className:"search-box",children:Object(c.jsxs)("form",{className:"search-form",onSubmit:t,children:[Object(c.jsx)("button",{type:"button",title:"\ub4a4\ub85c",className:"back-btn",onClick:i,children:Object(c.jsx)("i",{className:"fas fa-arrow-left"})}),Object(c.jsx)("input",{ref:n,stype:"text",placeholder:"\uac80\uc0c9"}),Object(c.jsx)("button",{type:"submit",title:"\uac80\uc0c9",className:"search-btn",children:Object(c.jsx)("i",{className:"fas fa-search"})})]})}),Object(c.jsxs)("div",{className:"top-bar",children:[Object(c.jsx)("button",{type:"button",title:"\uac80\uc0c9",className:"search-btn",onClick:i,children:Object(c.jsx)("i",{className:"fas fa-search"})}),Object(c.jsx)("button",{title:"\ub85c\uadf8\uc778",className:"avatar-btn",children:Object(c.jsx)("i",{className:"fas fa-user"})})]})]})})),S=Object(l.c)((function(e){var t=e.item;return Object(c.jsxs)("div",{className:"player-box",children:[Object(c.jsx)("div",{className:"player-video-box",children:Object(c.jsx)("div",{className:"player-video",children:Object(c.jsx)("iframe",{title:"video",id:"player",type:"text/html",allowFullScreen:!0,allow:"autoplay",src:"https://www.youtube.com/embed/".concat(t.id,"?autoplay=1")})})}),Object(c.jsxs)("div",{className:"video-info-box",children:[Object(c.jsxs)("div",{className:"video-info",children:[Object(c.jsx)("h1",{className:"title",children:t.snippet.title}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"meta-data",children:[Object(c.jsxs)("span",{children:["\uc870\ud68c\uc218 ",parseInt(t.statistics.viewCount).toLocaleString(),"\ud68c"]}),Object(c.jsx)("span",{children:t.snippet.publishedAt.substr(0,10)})]}),Object(c.jsxs)("div",{className:"like-disLike",children:[Object(c.jsxs)("button",{title:"\uc88b\uc544\uc694",children:[Object(c.jsx)("i",{className:"fas fa-thumbs-up"})," ",t.statistics.likeCount]}),Object(c.jsxs)("button",{title:"\uc2eb\uc5b4\uc694",children:[Object(c.jsx)("i",{className:"fas fa-thumbs-down"})," ",t.statistics.dislikeCount]})]})]})]}),Object(c.jsxs)("div",{className:"video-meta",children:[Object(c.jsx)("div",{className:"meta-thumb",children:t.snippet.channelTitle.substr(0,1)}),Object(c.jsxs)("div",{className:"meta",children:[Object(c.jsx)("span",{children:t.snippet.channelTitle}),Object(c.jsx)("span",{children:t.snippet.description})]})]})]})]})})),_=function(){document.querySelector(".search-box").classList.toggle("on-search-box")},z=Object(l.b)("store")(Object(l.c)((function(e){var t=e.store,n=Object(i.useRef)(),s=Object(i.useRef)(),a=Object(i.useCallback)((function(e){e.preventDefault();var c=n.current.value;c&&t.addPage(c),_()}),[t]);return Object(i.useEffect)((function(){t.addPage(),t.loaded(!0)}),[t]),Object(i.useEffect)((function(){var e;return s.current&&(e=new IntersectionObserver((function(e){Object(r.a)(e,1)[0].isIntersecting&&(n.current.value?t.addNextPage(n.current.value):t.addNextPage())}),{threshold:0})).observe(s.current),function(){return e&&e.disconnect()}}),[s.current,t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R,{onSubmit:a,onSearchBar:_,inputRef:n}),Object(c.jsxs)("div",{className:"content ".concat(t.item?"on-player":""),children:[t.item&&Object(c.jsx)(S,{item:t.item}),t.items&&Object(c.jsx)(C,{items:t.items,onItemClick:t.onItemClick}),t.isload&&Object(c.jsx)("div",{ref:s,className:"sentinel"})]})]})}))),D=(n(31),n(5)),q=n(11),A=n(22),E=n(4),F=(n(34),n(2)),L=n(7),B=n.n(L),M=n(16),Y=new function e(t){var n=this;Object(q.a)(this,e),this.fetchData=function(){var e=Object(M.a)(B.a.mark((function e(t,c){var i,s,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=encodeURIComponent,s=Object.keys(t).map((function(e){return i(e)+"="+i(t[e])})).join("&"),e.prev=2,e.next=5,fetch("https://youtube.googleapis.com/youtube/v3/videos?part=snippet,statistics&maxResults=20&key=".concat(n.key,"&")+s+(c?"&pageToken=".concat(c):""),n.getRequestOptions);case 5:return a=e.sent,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",console.log("error",e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getItemsId=function(){var e=Object(M.a)(B.a.mark((function e(t,c){var i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://youtube.googleapis.com/youtube/v3/search?maxResults=20&q=".concat(t,"&type=video&key=").concat(n.key)+(c?"&pageToken=".concat(c):""),n.getRequestOptions);case 3:return i=e.sent,e.next=6,i.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log("error",e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),this.key=t,this.getRequestOptions={method:"GET",redirect:"follow"}}("AIzaSyAi9SltLLmkqtHmP_KFFSONcQ2wYTFw_V4"),J=new(m=F.o.ref,p=F.o.ref,f=function(){function e(){Object(q.a)(this,e),Object(D.a)(this,"_items",O,this),Object(D.a)(this,"item",x,this),Object(D.a)(this,"addPage",v,this),Object(D.a)(this,"addNextPage",g,this),Object(D.a)(this,"onItemClick",k,this),Object(D.a)(this,"isload",y,this),Object(D.a)(this,"loaded",N,this),Object(F.n)(this),this.popular={chart:"mostPopular",regionCode:"KR"},this.search={id:null},this.nextPageToken=null}return Object(A.a)(e,[{key:"items",get:function(){return Object(F.q)(this._items)}}]),e}(),O=Object(E.a)(f.prototype,"_items",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(E.a)(f.prototype,"items",[F.g],Object.getOwnPropertyDescriptor(f.prototype,"items"),f.prototype),x=Object(E.a)(f.prototype,"item",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Object(E.a)(f.prototype,"addPage",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e._items=[],t?Y.getItemsId(t).then((function(t){return Object(F.p)((function(){e.nextPageToken=t.nextPageToken})),t.items.map((function(e){return e.id.videoId})).join()})).then((function(t){e.search.id=t,Y.fetchData(e.search).then((function(t){Object(F.p)((function(){e._items=t.items,e.onItemClick(null)}))}))})):Y.fetchData(e.popular).then((function(t){Object(F.p)((function(){e._items=t.items,e.nextPageToken=t.nextPageToken}))}))}}}),g=Object(E.a)(f.prototype,"addNextPage",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t?Y.getItemsId(t,e.nextPageToken).then((function(t){return Object(F.p)((function(){e.nextPageToken=t.nextPageToken})),t.items.map((function(e){return e.id.videoId})).join()})).then((function(t){e.search.id=t,Y.fetchData(e.search).then((function(t){return Object(F.p)((function(){e._items=e._items.concat(t.items)}))}))})):Y.fetchData(e.popular,e.nextPageToken).then((function(t){Object(F.p)((function(){e._items=e._items.concat(t.items),e.nextPageToken=t.nextPageToken}))}))}}}),k=Object(E.a)(f.prototype,"onItemClick",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.item=t}}}),y=Object(E.a)(f.prototype,"isload",[F.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=Object(E.a)(f.prototype,"loaded",[F.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isload=!!t}}}),f);a.a.render(Object(c.jsx)(l.a,{store:J,children:Object(c.jsx)(z,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.99a0b23c.chunk.js.map