(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c,s,i,a,r,o,l,u,b,j=n(0),d=n(1),h=n(8),m=n.n(h),p=(n(18),n(19),n(3)),f=Object(p.c)((function(e){var t=e.item,n=e.diff,c=e.view,s=e.getVideo;return Object(j.jsx)("li",{className:"item",children:Object(j.jsxs)("div",{className:"item_box",onClick:function(){s(t)},children:[Object(j.jsx)("div",{className:"thumb",children:Object(j.jsx)("a",{href:"#",children:Object(j.jsx)("img",{src:t.snippet.thumbnails.medium.url,alt:"thumb"})})}),Object(j.jsxs)("div",{className:"meta",children:[Object(j.jsx)("a",{className:"title",href:"#",children:t.snippet.title}),Object(j.jsx)("div",{className:"channel_title",children:t.snippet.channelTitle}),Object(j.jsxs)("div",{className:"meta_data item_meta_data",children:[Object(j.jsxs)("span",{children:["\uc870\ud68c\uc218 ",c,"\ud68c"]}),Object(j.jsxs)("span",{children:[n," \uc804"]})]})]})]})})})),O=Object(p.c)((function(e){var t=e.items,n=e.getVideo,c=Object(d.useCallback)((function(e){var t=e.statistics.viewCount;if(t>=1e4)return parseInt(t/1e4)+"\ub9cc"}),[]),s=Object(d.useCallback)((function(e){var t=(new Date).getTime()-new Date(e.snippet.publishedAt).getTime();return(t=parseInt(t/36e5%24))>=24?"1\uc77c":t+"\uc2dc\uac04"}),[]);return Object(j.jsx)("ul",{className:"item_list",children:t.map((function(e){return Object(j.jsx)(f,{item:e,diff:s(e),view:e.statistics&&c(e),getVideo:n},e.id+t.indexOf(e))}))})})),x=Object(p.c)((function(e){var t=e.onSubmit,n=e.inputRef,c=e.onSearchBar;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("a",{href:"https://seheeyun.github.io/youtube-clone/",className:"logo",children:[Object(j.jsx)("img",{src:"./images/logo.png",alt:"logo"}),Object(j.jsx)("span",{children:"YunTube"})]}),Object(j.jsx)("div",{className:"search_box",children:Object(j.jsxs)("form",{className:"search_form",onSubmit:t,children:[Object(j.jsx)("button",{type:"button",className:"back_btn",onClick:c,children:Object(j.jsx)("i",{className:"fas fa-arrow-left"})}),Object(j.jsx)("input",{ref:n,stype:"text",placeholder:"\uac80\uc0c9"}),Object(j.jsx)("button",{type:"submit",className:"search_btn",children:Object(j.jsx)("i",{className:"fas fa-search"})})]})}),Object(j.jsxs)("div",{className:"top_bar",children:[Object(j.jsx)("button",{type:"button",className:"search_btn",onClick:c,children:Object(j.jsx)("i",{className:"fas fa-search"})}),Object(j.jsx)("button",{className:"avatar_btn",children:Object(j.jsx)("i",{className:"fas fa-user"})})]})]})})),v=Object(p.c)((function(e){var t=e.item;return Object(j.jsxs)("div",{className:"player_box",children:[Object(j.jsx)("div",{className:"player_video_box",children:Object(j.jsx)("div",{className:"player_video",children:Object(j.jsx)("iframe",{title:"video",id:"player",type:"text/html",allow:"autoplay",allowFullScreen:!0,src:"https://www.youtube.com/embed/".concat(t.id)})})}),Object(j.jsxs)("div",{className:"video_info_box",children:[Object(j.jsxs)("div",{className:"video_info",children:[Object(j.jsx)("h1",{className:"title",children:t.snippet.title}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"meta_data",children:[Object(j.jsxs)("span",{children:["\uc870\ud68c\uc218 ",parseInt(t.statistics.viewCount).toLocaleString(),"\ud68c"]}),Object(j.jsx)("span",{children:t.snippet.publishedAt.substr(0,10)})]}),Object(j.jsxs)("div",{className:"like_disLike",children:[Object(j.jsxs)("button",{children:[Object(j.jsx)("i",{className:"fas fa-thumbs-up"})," ",t.statistics.likeCount]}),Object(j.jsxs)("button",{children:[Object(j.jsx)("i",{className:"fas fa-thumbs-down"})," ",t.statistics.dislikeCount]})]})]})]}),Object(j.jsxs)("div",{className:"video_meta",children:[Object(j.jsx)("div",{className:"meta_thumb",children:t.snippet.channelTitle.substr(0,1)}),Object(j.jsxs)("div",{className:"meta",children:[Object(j.jsx)("span",{children:t.snippet.channelTitle}),Object(j.jsx)("span",{children:t.snippet.description})]})]})]})]})})),g=Object(p.b)("store")(Object(p.c)((function(e){var t=e.store,n=Object(d.useRef)(),c=Object(d.useCallback)((function(e){e.preventDefault(),window.scrollTo({top:0});var c=n.current.value;c&&t.addPage(c),s()}),[]),s=Object(d.useCallback)((function(){document.querySelector(".search_box").classList.toggle("on_search_box")}),[]);Object(d.useEffect)((function(){t.addPage()}),[]),Object(d.useEffect)((function(){return window.addEventListener("scroll",i,{passive:!0}),function(){return window.removeEventListener("scroll",i,{passive:!0})}}),[]);var i=Object(d.useCallback)((function(){var e=document.documentElement;e.scrollTop+e.clientHeight===e.scrollHeight&&(n.current.value?t.addNextPage(n.current.value):t.addNextPage())}),[]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{onSubmit:c,onSearchBar:s,inputRef:n}),Object(j.jsxs)("div",{className:"content ".concat(t.item?"on_player":""),children:[t.item&&Object(j.jsx)(v,{item:t.item}),t.items&&Object(j.jsx)(O,{items:t.items,getVideo:t.getVideo})]})]})}))),y=(n(20),n(5)),N=n(9),_=n(12),k=n(4),w=(n(24),n(2)),P=n(6),T=n.n(P),C=n(11),I=new function e(t){var n=this;Object(N.a)(this,e),this.fetchData=function(){var e=Object(C.a)(T.a.mark((function e(t,c){var s,i,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=encodeURIComponent,i=Object.keys(t).map((function(e){return s(e)+"="+s(t[e])})).join("&"),e.prev=2,e.next=5,fetch("https://youtube.googleapis.com/youtube/v3/videos?part=snippet,statistics&maxResults=20&key=".concat(n.key,"&")+i+(c?"&pageToken=".concat(c):""),n.getRequestOptions);case 5:return a=e.sent,e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",console.log("error",e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getItemsId=function(){var e=Object(C.a)(T.a.mark((function e(t,c){var s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://youtube.googleapis.com/youtube/v3/search?maxResults=20&q=".concat(t,"&type=video&key=").concat(n.key)+(c?"&pageToken=".concat(c):""),n.getRequestOptions);case 3:return s=e.sent,e.next=6,s.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",console.log("error",e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),this.key=t,this.getRequestOptions={method:"GET",redirect:"follow"}}("AIzaSyAi9SltLLmkqtHmP_KFFSONcQ2wYTFw_V4"),S=new(c=w.o.ref,s=w.o.ref,i=function(){function e(){Object(N.a)(this,e),Object(y.a)(this,"_items",a,this),Object(y.a)(this,"item",r,this),Object(y.a)(this,"addPage",o,this),Object(y.a)(this,"addNextPage",l,this),Object(y.a)(this,"getVideo",u,this),Object(y.a)(this,"offPlayer",b,this),Object(w.n)(this),this.popular={chart:"mostPopular",regionCode:"KR"},this.search={id:null},this.nextPageToken=null}return Object(_.a)(e,[{key:"items",get:function(){return Object(w.q)(this._items)}}]),e}(),a=Object(k.a)(i.prototype,"_items",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(k.a)(i.prototype,"items",[w.g],Object.getOwnPropertyDescriptor(i.prototype,"items"),i.prototype),r=Object(k.a)(i.prototype,"item",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=Object(k.a)(i.prototype,"addPage",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t?I.getItemsId(t).then((function(t){return Object(w.p)((function(){e.nextPageToken=t.nextPageToken})),t.items.map((function(e){return e.id.videoId})).join()})).then((function(t){e.search.id=t,I.fetchData(e.search).then((function(t){Object(w.p)((function(){e._items=t.items,e.offPlayer()}))}))})):I.fetchData(e.popular).then((function(t){Object(w.p)((function(){e._items=t.items,e.nextPageToken=t.nextPageToken}))}))}}}),l=Object(k.a)(i.prototype,"addNextPage",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t?I.getItemsId(t,e.nextPageToken).then((function(t){return Object(w.p)((function(){e.nextPageToken=t.nextPageToken})),t.items.map((function(e){return e.id.videoId})).join()})).then((function(t){e.search.id=t,I.fetchData(e.search).then((function(t){return Object(w.p)((function(){e._items=e._items.concat(t.items)}))}))})):I.fetchData(e.popular,e.nextPageToken).then((function(t){Object(w.p)((function(){e._items=e._items.concat(t.items),e.nextPageToken=t.nextPageToken}))}))}}}),u=Object(k.a)(i.prototype,"getVideo",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.item=t}}}),b=Object(k.a)(i.prototype,"offPlayer",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.item=null}}}),i);m.a.render(Object(j.jsx)(p.a,{store:S,children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.a7539379.chunk.js.map