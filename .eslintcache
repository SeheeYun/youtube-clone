[{"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/app.jsx":"1","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/player.jsx":"2","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/index.js":"3","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/item.jsx":"4","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/itemList.jsx":"5","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/header.jsx":"6"},{"size":3580,"mtime":1615548581774,"results":"7","hashOfConfig":"8"},{"size":1407,"mtime":1614614665173,"results":"9","hashOfConfig":"8"},{"size":269,"mtime":1613561132914,"results":"10","hashOfConfig":"11"},{"size":795,"mtime":1614148381643,"results":"12","hashOfConfig":"8"},{"size":936,"mtime":1614609030365,"results":"13","hashOfConfig":"8"},{"size":847,"mtime":1614615024321,"results":"14","hashOfConfig":"11"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},"1psu1bo",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gmobqi",{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/app.jsx",["28","29","30","31","32"],"import './app.css';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport ItemList from './components/itemList';\nimport Header from './components/header';\nimport Player from './components/player';\n\nconst App = () => {\n  const [data, setData] = useState({});\n  const [items, setItems] = useState([]);\n  const [item, setItem] = useState();\n\n  const fetchDataa = useCallback(params => {\n    const esc = encodeURIComponent;\n    const query = Object.keys(params)\n      .map(k => esc(k) + '=' + esc(params[k]))\n      .join('&');\n\n    const requestOptions = { method: 'GET', redirect: 'follow' };\n    return fetch(\n      'https://youtube.googleapis.com/youtube/v3/videos?key=AIzaSyAi9SltLLmkqtHmP_KFFSONcQ2wYTFw_V4&' +\n        query,\n      requestOptions\n    )\n      .then(response => response.json())\n      .catch(error => console.log('error', error));\n  }, []);\n\n  const fetchData = useCallback((value, pageToken) => {\n    const requestOptions = {\n      method: 'GET',\n      redirect: 'follow',\n    };\n\n    return fetch(\n      `https://youtube.googleapis.com/youtube/v3/${value}${\n        pageToken ? `&pageToken=CBkQAA` : ''\n      }`,\n      requestOptions\n    ).then(response => response.json());\n  }, []);\n\n  useEffect(() => {\n    getPopularItems().then(data => setData({ ...data }));\n  }, []);\n\n  const getPopularItems = useCallback(() => {\n    const params = {\n      chart: 'mostPopular',\n      regionCode: 'KR',\n      part: 'snippet,statistics',\n      maxResults: 25,\n    };\n    return fetchDataa(params);\n  }, []);\n\n  const getItemsId = useCallback(\n    keyword => {\n      return fetchData(\n        `search?part=snippet&maxResults=25&q=${keyword}&type=video&key=AIzaSyAi9SltLLmkqtHmP_KFFSONcQ2wYTFw_V4`\n      )\n        .then(json => json.items.map(item => item.id.videoId))\n        .then(id => id.join());\n    },\n    [fetchData]\n  );\n\n  const getSearchItems = useCallback(\n    keyword => {\n      getItemsId(keyword)\n        .then(id =>\n          fetchData(\n            `videos?part=snippet,statistics&id=${id}&maxResults=25&key=AIzaSyAi9SltLLmkqtHmP_KFFSONcQ2wYTFw_V4`\n          )\n        )\n        .then(json => json.items)\n        .then(items => setItems([...items]))\n        .then(offPlayer)\n        .catch(error => console.log('error', error));\n    },\n    [getItemsId, fetchData]\n  );\n\n  const getVideo = useCallback(item => {\n    setItem({ ...item });\n    onPlayer();\n  }, []);\n\n  const onPlayer = () => {\n    const content = document.querySelector('.content');\n    content.classList.add('on_player');\n  };\n  const offPlayer = () => {\n    const content = document.querySelector('.content');\n    content.classList.contains('on_player') &&\n      content.classList.remove('on_player');\n  };\n\n  const onScroll = useCallback(() => {\n    console.log('scroll');\n    const { scrollTop, clientHeight, scrollHeight } = document.documentElement;\n    if (scrollTop + clientHeight === scrollHeight) {\n      const pageToken = data.nextPageToken;\n      getPopularItems(pageToken)\n        .then(json => json.items)\n        .then(items => setData({ items: data.items.concat(items) }));\n    }\n  }, [getPopularItems]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', onScroll, { passive: true });\n    return () =>\n      window.removeEventListener('scroll', onScroll, { passive: true });\n  }, []);\n\n  return (\n    <>\n      <Header getSearchItems={getSearchItems} />\n      <div className=\"content\">\n        {item && <Player item={item} />}\n        {data.items && <ItemList items={data.items} getVideo={getVideo} />}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/player.jsx",[],"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/index.js",[],"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/item.jsx",["33","34"],"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/itemList.jsx",[],"/Users/yunsehee/Desktop/front-end/react/react-basic/youtube/src/components/header.jsx",["35"],{"ruleId":"36","severity":1,"message":"37","line":9,"column":10,"nodeType":"38","messageId":"39","endLine":9,"endColumn":15},{"ruleId":"40","severity":1,"message":"41","line":44,"column":6,"nodeType":"42","endLine":44,"endColumn":8,"suggestions":"43"},{"ruleId":"40","severity":1,"message":"44","line":54,"column":6,"nodeType":"42","endLine":54,"endColumn":8,"suggestions":"45"},{"ruleId":"40","severity":1,"message":"46","line":107,"column":6,"nodeType":"42","endLine":107,"endColumn":23,"suggestions":"47"},{"ruleId":"40","severity":1,"message":"48","line":113,"column":6,"nodeType":"42","endLine":113,"endColumn":8,"suggestions":"49"},{"ruleId":"50","severity":1,"message":"51","line":12,"column":11,"nodeType":"52","endLine":12,"endColumn":23},{"ruleId":"50","severity":1,"message":"51","line":17,"column":11,"nodeType":"52","endLine":17,"endColumn":41},{"ruleId":"50","severity":1,"message":"51","line":14,"column":7,"nodeType":"52","endLine":14,"endColumn":36},"no-unused-vars","'items' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPopularItems'. Either include it or remove the dependency array.","ArrayExpression",["53"],"React Hook useCallback has a missing dependency: 'fetchDataa'. Either include it or remove the dependency array.",["54"],"React Hook useCallback has missing dependencies: 'data.items' and 'data.nextPageToken'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setData' needs the current value of 'data.items'.",["55"],"React Hook useEffect has a missing dependency: 'onScroll'. Either include it or remove the dependency array.",["56"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",{"desc":"57","fix":"58"},{"desc":"59","fix":"60"},{"desc":"61","fix":"62"},{"desc":"63","fix":"64"},"Update the dependencies array to be: [getPopularItems]",{"range":"65","text":"66"},"Update the dependencies array to be: [fetchDataa]",{"range":"67","text":"68"},"Update the dependencies array to be: [data.items, data.nextPageToken, getPopularItems]",{"range":"69","text":"70"},"Update the dependencies array to be: [onScroll]",{"range":"71","text":"72"},[1305,1307],"[getPopularItems]",[1529,1531],"[fetchDataa]",[3104,3121],"[data.items, data.nextPageToken, getPopularItems]",[3308,3310],"[onScroll]"]